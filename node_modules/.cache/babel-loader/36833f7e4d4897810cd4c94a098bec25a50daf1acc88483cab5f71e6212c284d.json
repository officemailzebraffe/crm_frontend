{"ast":null,"code":"import React from'react';import{useSelector}from'react-redux';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PermissionRoute=_ref=>{var _user$permissions;let{children,permission,adminOnly=false}=_ref;const{user}=useSelector(state=>state.auth);// Admin has access to everything\nif((user===null||user===void 0?void 0:user.role)==='admin'){return children;}// Check admin-only routes\nif(adminOnly){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You don't have permission to access this page. Admin access required.\"})]})});}// Check specific permission\nif(permission&&(user===null||user===void 0?void 0:(_user$permissions=user.permissions)===null||_user$permissions===void 0?void 0:_user$permissions[permission])!==true){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You don't have permission to access this page.\"})]})});}return children;};export default PermissionRoute;","map":{"version":3,"names":["React","useSelector","jsx","_jsx","jsxs","_jsxs","PermissionRoute","_ref","_user$permissions","children","permission","adminOnly","user","state","auth","role","className","permissions"],"sources":["/home/pranjal/Pranjal/vscode/crm_portal/client/src/components/PermissionRoute.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst PermissionRoute = ({ children, permission, adminOnly = false }) => {\n  const { user } = useSelector((state) => state.auth);\n\n  // Admin has access to everything\n  if (user?.role === 'admin') {\n    return children;\n  }\n\n  // Check admin-only routes\n  if (adminOnly) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <h2>Access Denied</h2>\n          <p>You don't have permission to access this page. Admin access required.</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Check specific permission\n  if (permission && user?.permissions?.[permission] !== true) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <h2>Access Denied</h2>\n          <p>You don't have permission to access this page.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return children;\n};\n\nexport default PermissionRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAiD,KAAAC,iBAAA,IAAhD,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,CAAG,KAAM,CAAC,CAAAJ,IAAA,CAClE,KAAM,CAAEK,IAAK,CAAC,CAAGX,WAAW,CAAEY,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CAEnD;AACA,GAAI,CAAAF,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEG,IAAI,IAAK,OAAO,CAAE,CAC1B,MAAO,CAAAN,QAAQ,CACjB,CAEA;AACA,GAAIE,SAAS,CAAE,CACb,mBACER,IAAA,QAAKa,SAAS,CAAC,WAAW,CAAAP,QAAA,cACxBJ,KAAA,QAAKW,SAAS,CAAC,MAAM,CAAAP,QAAA,eACnBN,IAAA,OAAAM,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBN,IAAA,MAAAM,QAAA,CAAG,uEAAqE,CAAG,CAAC,EACzE,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAIC,UAAU,EAAI,CAAAE,IAAI,SAAJA,IAAI,kBAAAJ,iBAAA,CAAJI,IAAI,CAAEK,WAAW,UAAAT,iBAAA,iBAAjBA,iBAAA,CAAoBE,UAAU,CAAC,IAAK,IAAI,CAAE,CAC1D,mBACEP,IAAA,QAAKa,SAAS,CAAC,WAAW,CAAAP,QAAA,cACxBJ,KAAA,QAAKW,SAAS,CAAC,MAAM,CAAAP,QAAA,eACnBN,IAAA,OAAAM,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBN,IAAA,MAAAM,QAAA,CAAG,gDAA8C,CAAG,CAAC,EAClD,CAAC,CACH,CAAC,CAEV,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}