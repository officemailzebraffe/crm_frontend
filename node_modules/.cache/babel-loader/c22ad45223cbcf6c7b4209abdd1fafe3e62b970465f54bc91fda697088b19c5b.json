{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Provider}from'react-redux';import{store}from'./redux/store';import{useDispatch,useSelector}from'react-redux';import{getMe}from'./redux/slices/authSlice';// Pages\nimport Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import Leads from'./pages/Leads';import Students from'./pages/Students';import Courses from'./pages/Courses';import Tasks from'./pages/Tasks';import Analytics from'./pages/Analytics';import Projects from'./pages/Projects';import Settings from'./pages/Settings';import AdminDashboard from'./pages/AdminDashboard';// Components\nimport Layout from'./components/Layout';import PrivateRoute from'./components/PrivateRoute';import PermissionRoute from'./components/PermissionRoute';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const dispatch=useDispatch();const{isAuthenticated,token}=useSelector(state=>state.auth);useEffect(()=>{if(token&&!isAuthenticated){dispatch(getMe());}},[token,isAuthenticated,dispatch]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"dashboard\",children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"admin\",element:/*#__PURE__*/_jsx(PermissionRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"leads\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"leads\",children:/*#__PURE__*/_jsx(Leads,{})})}),/*#__PURE__*/_jsx(Route,{path:\"students\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"students\",children:/*#__PURE__*/_jsx(Students,{})})}),/*#__PURE__*/_jsx(Route,{path:\"courses\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"courses\",children:/*#__PURE__*/_jsx(Courses,{})})}),/*#__PURE__*/_jsx(Route,{path:\"tasks\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"tasks\",children:/*#__PURE__*/_jsx(Tasks,{})})}),/*#__PURE__*/_jsx(Route,{path:\"analytics\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"analytics\",children:/*#__PURE__*/_jsx(Analytics,{})})}),/*#__PURE__*/_jsx(Route,{path:\"projects\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"projects\",children:/*#__PURE__*/_jsx(Projects,{})})}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(PermissionRoute,{permission:\"settings\",children:/*#__PURE__*/_jsx(Settings,{})})})]})]})});}function App(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Provider","store","useDispatch","useSelector","getMe","Login","Register","Dashboard","Leads","Students","Courses","Tasks","Analytics","Projects","Settings","AdminDashboard","Layout","PrivateRoute","PermissionRoute","jsx","_jsx","jsxs","_jsxs","AppContent","dispatch","isAuthenticated","token","state","auth","children","path","element","index","to","replace","permission","adminOnly","App"],"sources":["/home/pranjal/Pranjal/vscode/crm_portal/client/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getMe } from './redux/slices/authSlice';\n\n// Pages\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport Leads from './pages/Leads';\nimport Students from './pages/Students';\nimport Courses from './pages/Courses';\nimport Tasks from './pages/Tasks';\nimport Analytics from './pages/Analytics';\nimport Projects from './pages/Projects';\nimport Settings from './pages/Settings';\nimport AdminDashboard from './pages/AdminDashboard';\n\n// Components\nimport Layout from './components/Layout';\nimport PrivateRoute from './components/PrivateRoute';\nimport PermissionRoute from './components/PermissionRoute';\nimport './App.css';\n\nfunction AppContent() {\n  const dispatch = useDispatch();\n  const { isAuthenticated, token } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    if (token && !isAuthenticated) {\n      dispatch(getMe());\n    }\n  }, [token, isAuthenticated, dispatch]);\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/register\" element={<Register />} />\n        \n        <Route\n          path=\"/\"\n          element={\n            <PrivateRoute>\n              <Layout />\n            </PrivateRoute>\n          }\n        >\n          <Route index element={<Navigate to=\"/dashboard\" replace />} />\n          <Route path=\"dashboard\" element={\n            <PermissionRoute permission=\"dashboard\">\n              <Dashboard />\n            </PermissionRoute>\n          } />\n          <Route path=\"admin\" element={\n            <PermissionRoute adminOnly={true}>\n              <AdminDashboard />\n            </PermissionRoute>\n          } />\n          <Route path=\"leads\" element={\n            <PermissionRoute permission=\"leads\">\n              <Leads />\n            </PermissionRoute>\n          } />\n          <Route path=\"students\" element={\n            <PermissionRoute permission=\"students\">\n              <Students />\n            </PermissionRoute>\n          } />\n          <Route path=\"courses\" element={\n            <PermissionRoute permission=\"courses\">\n              <Courses />\n            </PermissionRoute>\n          } />\n          <Route path=\"tasks\" element={\n            <PermissionRoute permission=\"tasks\">\n              <Tasks />\n            </PermissionRoute>\n          } />\n          <Route path=\"analytics\" element={\n            <PermissionRoute permission=\"analytics\">\n              <Analytics />\n            </PermissionRoute>\n          } />\n          <Route path=\"projects\" element={\n            <PermissionRoute permission=\"projects\">\n              <Projects />\n            </PermissionRoute>\n          } />\n          <Route path=\"settings\" element={\n            <PermissionRoute permission=\"settings\">\n              <Settings />\n            </PermissionRoute>\n          } />\n        </Route>\n      </Routes>\n    </Router>\n  );\n}\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <AppContent />\n    </Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}